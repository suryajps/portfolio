<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Window & Sleep Quality - Surya Prabhakaran</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google tag (gtag.js) -->
</script>
    <style>
        /* Slideshow styles */
        .slideshow-container {
            position: relative;
            max-width: 100%;
            margin: 3rem 0;
            background: #f5f5f5;
        }

        .slideshow-image-wrapper {
            position: relative;
            width: 100%;
            padding-top: 66.67%; /* 3:2 aspect ratio */
            overflow: hidden;
        }

        .slideshow-image-wrapper img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: none;
        }

        .slideshow-image-wrapper img.active {
            display: block;
        }

        /* Navigation arrows */
        .slideshow-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid #1a1a1a;
            color: #1a1a1a;
            font-size: 1.2rem;
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: background 0.2s ease;
            z-index: 10;
            user-select: none;
        }

        .slideshow-nav:hover {
            background: #1a1a1a;
            color: white;
        }

        .slideshow-prev {
            left: 1rem;
        }

        .slideshow-next {
            right: 1rem;
        }

        /* Dots/indicators */
        .slideshow-dots {
            text-align: center;
            padding: 1rem 0;
        }

        .slideshow-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            border: 1px solid #1a1a1a;
            background: white;
            margin: 0 0.25rem;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .slideshow-dot.active {
            background: #1a1a1a;
        }

        .slideshow-dot:hover {
            background: #666666;
        }

        /* Image counter */
        .slideshow-counter {
            text-align: center;
            color: #666666;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
    </style>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6LDJD950B2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6LDJD950B2');
</script>
</head>
<body>
    <!-- Header/Navigation -->
    <header>
        <nav>
            <div class="nav-content">
                <a href="index.html" class="logo">Surya Prabhakaran</a>
                <ul class="nav-links">
                    <li><a href="index.html#work">Work</a></li>
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="cv.html">CV</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Project Content -->
    <section class="project-detail">
        <a href="index.html#work" class="back-link">← Back to Work</a>
        
        <!-- 1. Title and Meta -->
        <div class="project-header">
            <h1>Window & Sleep Quality</h1>
            <div class="project-meta">
                <span>Year: 2020</span>
                <span>Type: Academic</span>
                <span>Instructor: Billie Faircloth</span>
            </div>
            
            <!-- 2. First Description -->
            <p class="project-description">
                The project explores the cultural and environmental demands and potentials of windows. My research explores how windows affect sleep quality through two often-overlooked factors: ambient light at night and environmental noise. Rather than evaluating windows solely for thermal performance or views, the project centers on occupant wellbeing and circadian health.<br><br>
                Using a post-occupancy evaluation framework, this study aims to understand the window's role as a mediator between exterior conditions and interior comfort. Ray tracing identified the impacts of external light sources like street lamps and traffic signals, while RGB imaging photometry captured how nighttime light actually affects human photoreceptors. Light sensors tracked exposure patterns from the window sill to bedside, documenting how much daylight enters the space in early mornings. Acoustic measurements compared sound levels with the window open and closed across different times of day. Spectral frequency analysis revealed the character of noise from idling vehicles to accelerating traffic that penetrates the interior.
            </p>
        </div>

        <!-- 3. Slideshow -->
        <div class="slideshow-container" id="slideshow1">
            <div class="slideshow-image-wrapper">
                <img src="images/project2/image2.jpg" alt="Project 2 - Image 2" class="active">
                <img src="images/project2/image3.jpg" alt="Project 2 - Image 3">
                <img src="images/project2/image4.jpg" alt="Project 2 - Image 4">
                <img src="images/project2/image5.jpg" alt="Project 2 - Image 5">
                <img src="images/project2/image6.jpg" alt="Project 2 - Image 6">
                <img src="images/project2/image7.jpg" alt="Project 2 - Image 7">
                <img src="images/project2/image8.jpg" alt="Project 2 - Image 8">
                <img src="images/project2/image9.jpg" alt="Project 2 - Image 9">
                <img src="images/project2/image10.jpg" alt="Project 2 - Image 10">
            </div>
            <button class="slideshow-nav slideshow-prev" onclick="changeSlide('slideshow1', -1)">‹</button>
            <button class="slideshow-nav slideshow-next" onclick="changeSlide('slideshow1', 1)">›</button>
            <div class="slideshow-dots" id="slideshow1-dots"></div>
            <div class="slideshow-counter" id="slideshow1-counter"></div>
        </div>

        <!-- 4. Final Image -->
        <div class="project-images">
            <img src="images/project2/image1.jpg" alt="Project 2 - Final Image">
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="footer-content">
            <p>© 2024 Surya Prabhakaran</p>
            <div class="social-links">
                <a href="mailto:suryajp@alumni.upenn.edu">Email</a>
                <a href="https://www.linkedin.com/in/surya-jp/" target="_blank">LinkedIn</a>
            </div>
        </div>
    </footer>

    <!-- Slideshow JavaScript -->
    <script>
        // Initialize slideshows
        const slideshows = {};

        function initSlideshow(slideshowId) {
            const container = document.getElementById(slideshowId);
            const images = container.querySelectorAll('.slideshow-image-wrapper img');
            const dotsContainer = document.getElementById(slideshowId + '-dots');
            const counter = document.getElementById(slideshowId + '-counter');
            
            slideshows[slideshowId] = {
                currentIndex: 0,
                totalSlides: images.length
            };

            // Create dots
            for (let i = 0; i < images.length; i++) {
                const dot = document.createElement('span');
                dot.className = 'slideshow-dot' + (i === 0 ? ' active' : '');
                dot.onclick = () => goToSlide(slideshowId, i);
                dotsContainer.appendChild(dot);
            }

            // Update counter
            updateCounter(slideshowId);
        }

        function changeSlide(slideshowId, direction) {
            const slideshow = slideshows[slideshowId];
            const container = document.getElementById(slideshowId);
            const images = container.querySelectorAll('.slideshow-image-wrapper img');
            const dots = container.querySelectorAll('.slideshow-dot');

            // Remove active class from current slide and dot
            images[slideshow.currentIndex].classList.remove('active');
            dots[slideshow.currentIndex].classList.remove('active');

            // Update index
            slideshow.currentIndex = (slideshow.currentIndex + direction + slideshow.totalSlides) % slideshow.totalSlides;

            // Add active class to new slide and dot
            images[slideshow.currentIndex].classList.add('active');
            dots[slideshow.currentIndex].classList.add('active');

            // Update counter
            updateCounter(slideshowId);
        }

        function goToSlide(slideshowId, index) {
            const slideshow = slideshows[slideshowId];
            const container = document.getElementById(slideshowId);
            const images = container.querySelectorAll('.slideshow-image-wrapper img');
            const dots = container.querySelectorAll('.slideshow-dot');

            // Remove active class from current
            images[slideshow.currentIndex].classList.remove('active');
            dots[slideshow.currentIndex].classList.remove('active');

            // Update index
            slideshow.currentIndex = index;

            // Add active class to new
            images[slideshow.currentIndex].classList.add('active');
            dots[slideshow.currentIndex].classList.add('active');

            // Update counter
            updateCounter(slideshowId);
        }

        function updateCounter(slideshowId) {
            const slideshow = slideshows[slideshowId];
            const counter = document.getElementById(slideshowId + '-counter');
            counter.textContent = `${slideshow.currentIndex + 1} / ${slideshow.totalSlides}`;
        }

        // Initialize slideshow when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initSlideshow('slideshow1');
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                changeSlide('slideshow1', -1);
            } else if (e.key === 'ArrowRight') {
                changeSlide('slideshow1', 1);
            }
        });
    </script>
</body>
</html>
